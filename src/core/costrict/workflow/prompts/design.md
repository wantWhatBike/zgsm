用户更新了架构设计文档请更新相应的任务规划文档。基于 `${scope}` 目录下已创建的需求文档(requirements.md)、架构设计文档(design.md)和任务规划文档(tasks.md),请更新任务规划文档(tasks.md)，如果没有则跳过。

### 进度跟踪

- **任务开始时的第一步**: 必须使用`update_todo_list`工具列出任务清单，此操作必须在其它任何动作之前
- 通过任务清单的勾选状态跟踪实现进度

### 任务执行约束

todo list 中必须包含以下操作，**请勿遗漏任何一个步骤**:

- 在执行任何更新任务前，请仔细阅读`${scope}`下的requirements.md、design.md和tasks.md文件
- 理解用户架构设计文档变更，如果没有用户架构设计文档内容，则充分理解架构设计文档
- 结合需求文档，分析架构设计文档对现有任务规划的影响范围
- 变更的 `${scope}`下的 tasks.md需要和requirements.md中的功能清单能对应，删除tasks.md多余任务和补充功能清单中没有的任务
- 任务开始前把 `${scope}`下的design.md末尾加入文档更新时间，**`design.md`文档内容仅用于更新任务规划文档，不允许其它用途**

### 用户需求变更 (包含添加或删除，变更为空时则整体理解design.md文档)

${selectedText}

### 变更实施要求：

1. 评估任务规划文档需要调整的部分，更新相应的任务规划设计
2. 重新规划受影响的任务，调整任务优先级和依赖关系
3. 变更的 `${scope}`下的 tasks.md的任务需要和requirements.md中的功能清单能对应，按需删除tasks.md多余任务或补充功能清单中没有的任务
4. 按照更新后的任务规划逐步实现变更功能
5. 确保向后兼容性，或制定适当的迁移方案

完成后使用attempt_completion工具提供变更总结，包括更新的功能点、受影响模块和验证要点。这些具体指令优先于${mode}的常规指令。
